<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simuladores Financeiros - Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- HEADER -->
    <header class="app-header">
        <div class="header-left">
            <i class="fas fa-calculator"></i>
            <h1 class="header-title">Simuladores Financeiros</h1>
        </div>
        <div class="header-right">
            <button class="back-button" onclick="window.history.back()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <button class="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="user-menu">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="app-main">
        <!-- PAINEL ESQUERDO - Menu -->
        <aside class="left-panel">
            <div class="panel-card">
                <div class="section-header">
                    <i class="fas fa-list"></i>
                    <h2 class="section-title">Simuladores</h2>
                </div>
                
                <div class="simulators-list">
                    <div class="simulator-item active" onclick="selectSimulator('investimentos')">
                        <div class="simulator-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="simulator-info">
                            <div class="simulator-name">Investimentos</div>
                            <div class="simulator-desc">CDB, LCI, LCA, Tesouro</div>
                        </div>
                    </div>

                    <div class="simulator-item" onclick="selectSimulator('desconto')">
                        <div class="simulator-icon">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="simulator-info">
                            <div class="simulator-name">Desconto Comercial</div>
                            <div class="simulator-desc">Antecipação de títulos</div>
                        </div>
                    </div>

                    <div class="simulator-item" onclick="selectSimulator('conversor')">
                        <div class="simulator-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="simulator-info">
                            <div class="simulator-name">Conversor de Taxas</div>
                            <div class="simulator-desc">Entre diferentes períodos</div>
                        </div>
                    </div>

                    <div class="simulator-item" onclick="selectSimulator('credito')">
                        <div class="simulator-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="simulator-info">
                            <div class="simulator-name">Operações de Crédito</div>
                            <div class="simulator-desc">SAC, PRICE, Carência</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- PAINEL CENTRAL - Parâmetros + Resultados -->
        <section class="center-panel">
            <div class="center-scroll">
                <!-- INVESTIMENTOS -->
                <div id="form-investimentos" class="form-content active">
                    <div class="form-card">
                        <div class="section-header">
                            <i class="fas fa-chart-line"></i>
                            <h2 class="section-title">Simulador de Investimentos</h2>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Valor do Investimento (R$)</label>
                                <input type="number" id="valorInvestimento" class="form-input" placeholder="10000.00" step="0.01">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Tipo de Taxa</label>
                                <select id="tipoTaxa" class="form-select" onchange="updateTaxaFields()">
                                    <option value="">Selecione...</option>
                                    <option value="CDI">CDI</option>
                                    <option value="SELIC">SELIC</option>
                                    <option value="IPCA">IPCA</option>
                                    <option value="CDI+">CDI+</option>
                                    <option value="SELIC+">SELIC+</option>
                                    <option value="IPCA+">IPCA+</option>
                                    <option value="Prefixada">Prefixada</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group" id="taxaBaseGroup" style="display: none;">
                                <label class="form-label">Taxa Base (% a.a.)</label>
                                <input type="number" id="taxaBase" class="form-input" placeholder="100" step="0.01">
                                <small class="form-helper">CDI: 14,9% | SELIC: 15,00% | IPCA: 5.20%</small>
                            </div>

                            <div class="form-group" id="flexGroup" style="display: none;">
                                <label class="form-label">Flex (%)</label>
                                <input type="number" id="flex" class="form-input" placeholder="100" step="0.01">
                            </div>

                            <div class="form-group" id="spreadGroup" style="display: none;">
                                <label class="form-label">Spread</label>
                                <input type="number" id="spread" class="form-input" placeholder="0.5" step="0.01">
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Data de Vencimento</label>
                                <input type="date" id="dataVencimento" class="form-input">
                            </div>

                            <div class="form-group">
                                <div class="checkbox-group" style="margin-top: 26px;">
                                    <input type="checkbox" id="isentoIR">
                                    <label for="isentoIR">Isento de IR</label>
                                </div>
                            </div>
                        </div>

                        <button class="btn" onclick="calcularInvestimento()">Calcular Investimento</button>
                    </div>

                    <div id="results-investimentos" class="results-card">
                        <div class="section-header">
                            <i class="fas fa-chart-bar"></i>
                            <h2 class="section-title">Resultados</h2>
                        </div>

                        <div class="result-grid">
                            <div class="result-item">
                                <div class="result-label">Taxa Real</div>
                                <div class="result-value" id="taxaReal">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Valor Bruto</div>
                                <div class="result-value" id="valorBruto">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Rendimento</div>
                                <div class="result-value" id="rendimento">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">IOF</div>
                                <div class="result-value" id="iof">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">IRRF</div>
                                <div class="result-value" id="irrf">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Valor Líquido</div>
                                <div class="result-value" id="valorLiquido">-</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DESCONTO COMERCIAL -->
                <div id="form-desconto" class="form-content">
                    <div class="form-card">
                        <div class="section-header">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <h2 class="section-title">Desconto Comercial</h2>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Valor Nominal (R$)</label>
                                <input type="number" id="valorNominal" class="form-input" placeholder="10000.00" step="0.01">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Data de Vencimento</label>
                                <input type="date" id="dataVencimentoDesconto" class="form-input">
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Taxa de Desconto (% a.m.)</label>
                                <input type="number" id="taxaDesconto" class="form-input" placeholder="2.5" step="0.01">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Tarifas Adicionais (R$)</label>
                                <input type="number" id="tarifasAdicionais" class="form-input" placeholder="0.00" step="0.01" value="0">
                            </div>
                        </div>

                        <button class="btn" onclick="calcularDesconto()">Calcular Desconto</button>
                    </div>

                    <div id="results-desconto" class="results-card">
                        <div class="section-header">
                            <i class="fas fa-chart-bar"></i>
                            <h2 class="section-title">Resultados</h2>
                        </div>

                        <div class="result-grid">
                            <div class="result-item">
                                <div class="result-label">Prazo (dias)</div>
                                <div class="result-value" id="prazoMedio">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Juros/Custos</div>
                                <div class="result-value" id="jurosCustos">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">IOF Fixo</div>
                                <div class="result-value" id="iofFixo">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">IOF Adicional</div>
                                <div class="result-value" id="iofAdicional">-</div>
                            </div>
                            <div class="result-item" style="grid-column: span 2;">
                                <div class="result-label">Valor Descontado</div>
                                <div class="result-value" id="valorDescontado">-</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CONVERSOR DE TAXAS -->
                <div id="form-conversor" class="form-content">
                    <div class="form-card">
                        <div class="section-header">
                            <i class="fas fa-sync-alt"></i>
                            <h2 class="section-title">Conversor de Taxas</h2>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Taxa de Entrada (%)</label>
                            <input type="number" id="taxaEntrada" class="form-input" placeholder="10.5" step="0.01">
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Período de Origem</label>
                                <select id="periodoOrigem" class="form-select">
                                    <option value="diario">Diário</option>
                                    <option value="semanal">Semanal</option>
                                    <option value="mensal" selected>Mensal</option>
                                    <option value="bimestral">Bimestral</option>
                                    <option value="trimestral">Trimestral</option>
                                    <option value="semestral">Semestral</option>
                                    <option value="anual">Anual</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Período de Destino</label>
                                <select id="periodoDestino" class="form-select">
                                    <option value="diario">Diário</option>
                                    <option value="semanal">Semanal</option>
                                    <option value="mensal">Mensal</option>
                                    <option value="bimestral">Bimestral</option>
                                    <option value="trimestral">Trimestral</option>
                                    <option value="semestral">Semestral</option>
                                    <option value="anual" selected>Anual</option>
                                </select>
                            </div>
                        </div>

                        <button class="btn" onclick="converterTaxas()">Converter Taxa</button>
                    </div>

                    <div id="results-conversor" class="results-card">
                        <div class="section-header">
                            <i class="fas fa-chart-bar"></i>
                            <h2 class="section-title">Resultados</h2>
                        </div>

                        <div class="result-grid">
                            <div class="result-item">
                                <div class="result-label">Taxa Convertida</div>
                                <div class="result-value" id="taxaConvertida">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Equiv. Mensal</div>
                                <div class="result-value" id="equivalenteMensal">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Equiv. Anual</div>
                                <div class="result-value" id="equivalenteAnual">-</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- OPERAÇÕES DE CRÉDITO -->
                <div id="form-credito" class="form-content">
                    <div class="form-card">
                        <div class="section-header">
                            <i class="fas fa-hand-holding-usd"></i>
                            <h2 class="section-title">Operações de Crédito</h2>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Valor Financiado (R$)</label>
                                <input type="number" id="creditValue" class="form-input" placeholder="100000.00" step="0.01">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Tipo de Amortização</label>
                                <select id="amortizationType" class="form-select">
                                    <option value="SAC">SAC</option>
                                    <option value="PRICE">PRICE</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Dia Base</label>
                                <select id="baseDay" class="form-select">
                                    <option value="1">1º dia do mês</option>
                                    <option value="15">15º dia do mês</option>
                                    <option value="30">Último dia do mês</option>
                                    <option value="contratacao" selected>Data de contratação</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Carência (meses)</label>
                                <input type="number" id="gracePeriod" class="form-input" placeholder="0" min="0" max="120" step="1" value="0">
                            </div>
                        </div>

                        <div class="radio-grid">
                            <div class="radio-group-container">
                                <label class="form-label">Juros na Carência</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" id="interestYes" name="interestOnGrace" value="yes" checked>
                                        <label for="interestYes">Sim - Calcular juros</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="interestNo" name="interestOnGrace" value="no">
                                        <label for="interestNo">Não - Não calcular</label>
                                    </div>
                                </div>
                            </div>

                            <div class="radio-group-container">
                                <label class="form-label">Forma de Cobrança</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" id="chargeFirst" name="interestCharge" value="first" checked>
                                        <label for="chargeFirst">Na primeira parcela</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="chargeDiluted" name="interestCharge" value="amortization">
                                        <label for="chargeDiluted">Diluído</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Amortização</label>
                                <select id="amortizationFrequency" class="form-select">
                                    <option value="mensal" selected>Mensal</option>
                                    <option value="bimestral">Bimestral</option>
                                    <option value="trimestral">Trimestral</option>
                                    <option value="semestral">Semestral</option>
                                    <option value="anual">Anual</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Prazo Total (meses)</label>
                                <input type="number" id="totalTerm" class="form-input" placeholder="36" min="1" max="360" step="1" value="36">
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">TAC (R$)</label>
                                <input type="number" id="tac" class="form-input" placeholder="0.00" step="0.01" value="0">
                            </div>

                            <div class="form-group">
                                <label class="form-label">FLAT (R$)</label>
                                <input type="number" id="flatCommission" class="form-input" placeholder="0.00" step="0.01" value="0">
                            </div>
                        </div>

                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label">Taxa (% a.m.)</label>
                                <input type="number" id="interestRate" class="form-input" placeholder="1.5" step="0.01">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Sobretaxa (% a.m.)</label>
                                <input type="number" id="surchargeRate" class="form-input" placeholder="0" step="0.01" value="0">
                            </div>
                        </div>

                        <button class="btn" onclick="calculateCredit()">Calcular Operação</button>
                    </div>

                    <div id="results-credito" class="results-card">
                        <div class="section-header">
                            <i class="fas fa-chart-bar"></i>
                            <h2 class="section-title">Resultados</h2>
                        </div>

                        <div class="result-grid">
                            <div class="result-item">
                                <div class="result-label">CET Mensal</div>
                                <div class="result-value" id="cetMensal">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">CET Anual</div>
                                <div class="result-value" id="cetAnual">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Total Juros</div>
                                <div class="result-value" id="totalJuros">-</div>
                            </div>
                            <div class="result-item">
                                <div class="result-label">Total Pago</div>
                                <div class="result-value" id="totalPago">-</div>
                            </div>
                        </div>

                        <button class="btn btn-secondary" onclick="exportarCronograma()" style="margin-top: 12px;">
                            <i class="fas fa-download"></i> Exportar CSV
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- PAINEL DIREITO - Visualizações -->
        <aside class="right-panel">
            <div class="viz-card">
                <div class="section-header">
                    <i class="fas fa-eye"></i>
                    <h2 class="section-title">Visualização</h2>
                </div>

                <!-- Empty State -->
                <div id="viz-empty" class="viz-content active">
                    <div class="empty-state">
                        <i class="fas fa-chart-area"></i>
                        <p>Calcule para visualizar<br>gráficos e cronogramas</p>
                    </div>
                </div>

                <!-- Gráfico Investimentos -->
                <div id="viz-investimentos" class="viz-content">
                    <div class="chart-container">
                        <canvas id="chartInvestimentos"></canvas>
                    </div>
                </div>

                <!-- Gráfico Desconto -->
                <div id="viz-desconto" class="viz-content">
                    <div class="chart-container">
                        <canvas id="chartDesconto"></canvas>
                    </div>
                </div>

                <!-- Tabela Conversor -->
                <div id="viz-conversor" class="viz-content">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Período</th>
                                    <th>Taxa</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaConversao"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Cronograma Crédito -->
                <div id="viz-credito" class="viz-content">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Parc.</th>
                                    <th>Venc.</th>
                                    <th>Amort.</th>
                                    <th>Juros</th>
                                    <th>Parcela</th>
                                    <th>Saldo</th>
                                </tr>
                            </thead>
                            <tbody id="cronograma"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <script src="script.js"></script>
</body>
</html>

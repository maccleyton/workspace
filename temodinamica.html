<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumLab - MÃ³dulo TermodinÃ¢mica</title>
	<link href="./css/style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div class="lab-container">
        <header class="header">
            <div class="logo">
                <span>ğŸ”¥</span>
                <span>QuantumLab - MÃ³dulo TermodinÃ¢mica</span>
            </div>
            <div class="nav-tabs">
                <div class="nav-tab">âš›ï¸ Nuclear</div>
                <div class="nav-tab">ğŸ§ª QuÃ­mica</div>
                <div class="nav-tab">ğŸ§¬ OrgÃ¢nica</div>
                <div class="nav-tab active">ğŸ”¥ Termo</div>
            </div>
        </header>

        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="section-title">âš™ï¸ Sistemas TÃ©rmicos</div>
                <div class="system-grid">
                    <button class="system-btn active" data-system="engine">ğŸš— MÃ¡quina TÃ©rmica</button>
                    <button class="system-btn" data-system="refrigerator">â„ï¸ Refrigerador</button>
                    <button class="system-btn" data-system="gas-chamber">ğŸ§ª GÃ¡s Ideal</button>
                    <button class="system-btn" data-system="heat-pump">ğŸ”¥ Bomba de Calor</button>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-title">ğŸ“ˆ Processos TermodinÃ¢micos</div>
                <div class="process-list">
                    <button class="process-btn active" data-process="isothermal">ğŸŒ¡ï¸ IsotÃ©rmico</button>
                    <button class="process-btn" data-process="adiabatic">ğŸ”‡ AdiabÃ¡tico</button>
                    <button class="process-btn" data-process="isobaric">âš–ï¸ IsobÃ¡rico</button>
                    <button class="process-btn" data-process="isochoric">ğŸ“ IsocÃ³rico</button>
                    <button class="process-btn" data-process="carnot">ğŸ”„ Ciclo de Carnot</button>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-title">âš–ï¸ Leis da TermodinÃ¢mica</div>
                <div class="law-buttons">
                    <button class="law-btn" data-law="zeroth">0Âª Lei - EquilÃ­brio TÃ©rmico</button>
                    <button class="law-btn" data-law="first">1Âª Lei - ConservaÃ§Ã£o de Energia</button>
                    <button class="law-btn" data-law="second">2Âª Lei - Entropia</button>
                    <button class="law-btn" data-law="third">3Âª Lei - Zero Absoluto</button>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-title">ğŸ¯ Experimentos</div>
                <div class="process-list">
                    <button class="process-btn" data-experiment="efficiency">ğŸ“Š EficiÃªncia MÃ¡xima</button>
                    <button class="process-btn" data-experiment="expansion">ğŸ’¨ ExpansÃ£o Livre</button>
                    <button class="process-btn" data-experiment="mixing">ğŸ”„ Mistura de Gases</button>
                    <button class="process-btn" data-experiment="heat-transfer">ğŸ”¥ TransferÃªncia de Calor</button>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="thermo-canvas">
                <div class="simulation-area" id="simulationArea">
                    <!-- MÃ¡quina TÃ©rmica -->
                    <div class="heat-engine">
                        <div class="piston-chamber">
                            <div class="chamber">
                                <div class="gas-particles" id="gasParticles">
                                    <!-- PartÃ­culas de gÃ¡s serÃ£o geradas aqui -->
                                </div>
                            </div>
                            <div class="piston" id="piston"></div>
                            <div class="crank-shaft" id="crankShaft"></div>
                        </div>
                        <div class="heat-source" id="heatSource"></div>
                        <div class="cold-sink" id="coldSink"></div>
                    </div>

                    <!-- Diagrama PV -->
                    <div class="pv-diagram">
                        <svg class="thermodynamic-cycle" viewBox="0 0 200 150">
                            <path class="cycle-path" id="cyclePath" d="M50,120 L150,120 L150,30 L50,30 Z"/>
                        </svg>
                        <div class="graph-axis axis-x"></div>
                        <div class="graph-axis axis-y"></div>
                    </div>

                    <!-- PartÃ­culas de calor/frio -->
                    <div id="heatParticles"></div>
                    <div id="coldParticles"></div>
                </div>
            </div>

            <div class="control-panel">
                <div class="panel-section">
                    <h3>ğŸ¯ Controles do Sistema</h3>
                    <div class="parameter-controls">
                        <div class="control-group">
                            <label class="slider-label">
                                <span>Temperatura Quente</span>
                                <span id="hotTempValue">600 K</span>
                            </label>
                            <input type="range" min="300" max="1000" value="600" class="slider" id="hotTempSlider">
                        </div>
                        <div class="control-group">
                            <label class="slider-label">
                                <span>Temperatura Fria</span>
                                <span id="coldTempValue">300 K</span>
                            </label>
                            <input type="range" min="200" max="500" value="300" class="slider" id="coldTempSlider">
                        </div>
                        <div class="control-group">
                            <label class="slider-label">
                                <span>PressÃ£o</span>
                                <span id="pressureValue">100 kPa</span>
                            </label>
                            <input type="range" min="50" max="500" value="100" class="slider" id="pressureSlider">
                        </div>
                        <div class="control-group">
                            <label class="slider-label">
                                <span>Volume</span>
                                <span id="volumeValue">1.0 mÂ³</span>
                            </label>
                            <input type="range" min="0.5" max="2.0" value="1.0" step="0.1" class="slider" id="volumeSlider">
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ“Š Estado TermodinÃ¢mico</h3>
                    <div class="value-display">
                        <div>Temperatura do Sistema</div>
                        <div class="value-large" id="systemTemp">450 K</div>
                        <div>Energia Interna: <span id="internalEnergy">1125 J</span></div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ’« Fluxo de Energia</h3>
                    <div class="energy-flow">
                        <div class="flow-item" style="border-left: 3px solid var(--heat-red);">
                            <div>Calor Entrada (Qh)</div>
                            <div class="flow-value" id="heatIn">1000 J</div>
                        </div>
                        <div class="flow-item" style="border-left: 3px solid var(--cold-blue);">
                            <div>Calor SaÃ­da (Qc)</div>
                            <div class="flow-value" id="heatOut">600 J</div>
                        </div>
                        <div class="flow-item" style="border-left: 3px solid var(--work-purple);">
                            <div>Trabalho Realizado</div>
                            <div class="flow-value" id="workDone">400 J</div>
                        </div>
                        <div class="flow-item" style="border-left: 3px solid var(--entropy-green);">
                            <div>EficiÃªncia</div>
                            <div class="flow-value" id="efficiency">40%</div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>âš¡ Controles de SimulaÃ§Ã£o</h3>
                    <div class="control-buttons">
                        <button class="control-btn" id="resetBtn">ğŸ”„ Reiniciar</button>
                        <button class="control-btn primary" id="startBtn">â–¶ï¸ Iniciar</button>
                        <button class="control-btn warning" id="stopBtn">â¸ï¸ Parar</button>
                        <button class="control-btn success" id="analyzeBtn">ğŸ” Analisar</button>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>ğŸ“ˆ Resultados</h3>
                    <div class="value-display">
                        <div>Entropia Gerada: <span id="entropy">8.33 J/K</span></div>
                        <div>Rendimento de Carnot: <span id="carnotEfficiency">50%</span></div>
                        <div>Trabalho LÃ­quido: <span id="netWork">400 J</span></div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="status-bar">
            <div class="status-indicators">
                <div class="status-item">
                    <div class="status-dot"></div>
                    <span>Sistema TermodinÃ¢mico Ativo</span>
                </div>
                <div class="status-item">
                    <span>ğŸŒ¡ï¸ Temperatura: <span id="statusTemp">450 K</span></span>
                </div>
                <div class="status-item">
                    <span>âš–ï¸ PressÃ£o: <span id="statusPressure">100 kPa</span></span>
                </div>
                <div class="status-item">
                    <span>ğŸ“ Volume: <span id="statusVolume">1.0 mÂ³</span></span>
                </div>
            </div>
            <div class="simulation-controls">
                <button class="control-btn" id="helpBtn">â“ Ajuda</button>
                <button class="control-btn primary" id="dataBtn">ğŸ“Š Dados</button>
            </div>
        </footer>
    </div>

    <script>
        class ThermodynamicsLab {
            constructor() {
                this.simulationArea = document.getElementById('simulationArea');
                this.isRunning = false;
                this.currentSystem = 'engine';
                this.currentProcess = 'isothermal';
                
                // Estado do sistema
                this.state = {
                    temperature: 450, // K
                    pressure: 100,    // kPa
                    volume: 1.0,      // mÂ³
                    hotTemp: 600,     // K
                    coldTemp: 300,    // K
                    n: 1,             // moles
                    R: 8.314          // J/molÂ·K
                };

                this.init();
                this.setupEventListeners();
                this.createGasParticles();
                this.startHeatFlow();
                this.updateDisplay();
            }

            init() {
                this.calculateState();
                this.updateDiagram();
            }

            setupEventListeners() {
                // Sistemas tÃ©rmicos
                document.querySelectorAll('.system-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.system-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentSystem = e.target.dataset.system;
                        this.switchSystem();
                    });
                });

                // Processos
                document.querySelectorAll('.process-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.process-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.currentProcess = e.target.dataset.process;
                        this.updateProcess();
                    });
                });

                // Leis da termodinÃ¢mica
                document.querySelectorAll('.law-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.explainLaw(e.target.dataset.law);
                    });
                });

                // Experimentos
                document.querySelectorAll('.process-btn[data-experiment]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.runExperiment(e.target.dataset.experiment);
                    });
                });

                // Sliders de controle
                document.getElementById('hotTempSlider').addEventListener('input', (e) => {
                    this.state.hotTemp = parseInt(e.target.value);
                    document.getElementById('hotTempValue').textContent = this.state.hotTemp + ' K';
                    this.calculateState();
                });

                document.getElementById('coldTempSlider').addEventListener('input', (e) => {
                    this.state.coldTemp = parseInt(e.target.value);
                    document.getElementById('coldTempValue').textContent = this.state.coldTemp + ' K';
                    this.calculateState();
                });

                document.getElementById('pressureSlider').addEventListener('input', (e) => {
                    this.state.pressure = parseInt(e.target.value);
                    document.getElementById('pressureValue').textContent = this.state.pressure + ' kPa';
                    this.calculateState();
                });

                document.getElementById('volumeSlider').addEventListener('input', (e) => {
                    this.state.volume = parseFloat(e.target.value);
                    document.getElementById('volumeValue').textContent = this.state.volume.toFixed(1) + ' mÂ³';
                    this.calculateState();
                });

                // Controles de simulaÃ§Ã£o
                document.getElementById('startBtn').addEventListener('click', () => this.startSimulation());
                document.getElementById('stopBtn').addEventListener('click', () => this.stopSimulation());
                document.getElementById('resetBtn').addEventListener('click', () => this.resetSystem());
                document.getElementById('analyzeBtn').addEventListener('click', () => this.analyzeSystem());
                document.getElementById('helpBtn').addEventListener('click', () => this.showHelp());
                document.getElementById('dataBtn').addEventListener('click', () => this.showData());
            }

            calculateState() {
                // EquaÃ§Ã£o do gÃ¡s ideal: PV = nRT
                const { pressure, volume, n, R } = this.state;
                this.state.temperature = (pressure * volume) / (n * R) * 1000; // Convertendo para K

                // CÃ¡lculos de energia
                const Cv = (3/2) * R; // Capacidade calorÃ­fica a volume constante (gÃ¡s monoatÃ´mico)
                this.internalEnergy = n * Cv * this.state.temperature;
                
                // CÃ¡lculos de eficiÃªncia para mÃ¡quina tÃ©rmica
                this.heatInput = n * R * this.state.hotTemp * Math.log(this.state.volume);
                this.heatOutput = n * R * this.state.coldTemp * Math.log(this.state.volume);
                this.workDone = this.heatInput - this.heatOutput;
                this.efficiency = (this.workDone / this.heatInput) * 100;
                this.carnotEfficiency = (1 - this.state.coldTemp / this.state.hotTemp) * 100;
                this.entropy = this.heatOutput / this.state.coldTemp - this.heatInput / this.state.hotTemp;

                this.updateDisplay();
            }

            updateDisplay() {
                // Atualizar displays principais
                document.getElementById('systemTemp').textContent = Math.round(this.state.temperature) + ' K';
                document.getElementById('internalEnergy').textContent = Math.round(this.internalEnergy) + ' J';
                document.getElementById('heatIn').textContent = Math.round(this.heatInput) + ' J';
                document.getElementById('heatOut').textContent = Math.round(this.heatOutput) + ' J';
                document.getElementById('workDone').textContent = Math.round(this.workDone) + ' J';
                document.getElementById('efficiency').textContent = this.efficiency.toFixed(1) + '%';
                document.getElementById('entropy').textContent = this.entropy.toFixed(2) + ' J/K';
                document.getElementById('carnotEfficiency').textContent = this.carnotEfficiency.toFixed(1) + '%';
                document.getElementById('netWork').textContent = Math.round(this.workDone) + ' J';

                // Atualizar status bar
                document.getElementById('statusTemp').textContent = Math.round(this.state.temperature) + ' K';
                document.getElementById('statusPressure').textContent = this.state.pressure + ' kPa';
                document.getElementById('statusVolume').textContent = this.state.volume.toFixed(1) + ' mÂ³';
            }

            createGasParticles() {
                const container = document.getElementById('gasParticles');
                container.innerHTML = '';
                
                // Criar partÃ­culas de gÃ¡s
                for (let i = 0; i < 20; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'gas-particle';
                    particle.style.left = Math.random() * 100 + 'px';
                    particle.style.bottom = Math.random() * 100 + 'px';
                    particle.style.animationDelay = Math.random() * 2 + 's';
                    container.appendChild(particle);
                }
            }

            startHeatFlow() {
                // Criar partÃ­culas de calor subindo
                setInterval(() => {
                    if (this.isRunning) {
                        this.createHeatParticle();
                        this.createColdParticle();
                    }
                }, 500);
            }

            createHeatParticle() {
                const particle = document.createElement('div');
                particle.className = 'heat-particle';
                
                const heatSource = document.getElementById('heatSource');
                const rect = heatSource.getBoundingClientRect();
                const containerRect = this.simulationArea.getBoundingClientRect();
                
                particle.style.left = (rect.left - containerRect.left + Math.random() * rect.width) + 'px';
                particle.style.bottom = (rect.top - containerRect.top) + 'px';
                particle.style.animationDelay = Math.random() * 2 + 's';
                
                this.simulationArea.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 3000);
            }

            createColdParticle() {
                const particle = document.createElement('div');
                particle.className = 'cold-particle';
                
                const coldSink = document.getElementById('coldSink');
                const rect = coldSink.getBoundingClientRect();
                const containerRect = this.simulationArea.getBoundingClientRect();
                
                particle.style.left = (rect.left - containerRect.left + Math.random() * rect.width) + 'px';
                particle.style.top = (rect.bottom - containerRect.top) + 'px';
                particle.style.animationDelay = Math.random() * 2 + 's';
                
                this.simulationArea.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 3000);
            }

            startSimulation() {
                this.isRunning = true;
                document.getElementById('piston').classList.add('piston-moving');
                document.getElementById('crankShaft').classList.add('crank-rotating');
                
                // Atualizar diagrama continuamente
                this.simulationInterval = setInterval(() => {
                    this.updateDiagram();
                }, 100);
            }

            stopSimulation() {
                this.isRunning = false;
                document.getElementById('piston').classList.remove('piston-moving');
                document.getElementById('crankShaft').classList.remove('crank-rotating');
                
                if (this.simulationInterval) {
                    clearInterval(this.simulationInterval);
                }
            }

            resetSystem() {
                this.stopSimulation();
                this.state = {
                    temperature: 450,
                    pressure: 100,
                    volume: 1.0,
                    hotTemp: 600,
                    coldTemp: 300,
                    n: 1,
                    R: 8.314
                };
                
                document.getElementById('hotTempSlider').value = 600;
                document.getElementById('coldTempSlider').value = 300;
                document.getElementById('pressureSlider').value = 100;
                document.getElementById('volumeSlider').value = 1.0;
                
                document.getElementById('hotTempValue').textContent = '600 K';
                document.getElementById('coldTempValue').textContent = '300 K';
                document.getElementById('pressureValue').textContent = '100 kPa';
                document.getElementById('volumeValue').textContent = '1.0 mÂ³';
                
                this.calculateState();
                this.updateDiagram();
            }

            switchSystem() {
                // Alterar comportamento baseado no sistema selecionado
                switch(this.currentSystem) {
                    case 'engine':
                        this.showMessage('MÃ¡quina TÃ©rmica: Convertendo calor em trabalho');
                        break;
                    case 'refrigerator':
                        this.showMessage('Refrigerador: Transferindo calor do reservatÃ³rio frio para o quente');
                        break;
                    case 'gas-chamber':
                        this.showMessage('CÃ¢mara de GÃ¡s Ideal: Estudando comportamento PVT');
                        break;
                    case 'heat-pump':
                        this.showMessage('Bomba de Calor: Aquecimento eficiente');
                        break;
                }
                this.updateDiagram();
            }

            updateProcess() {
                // Atualizar diagrama PV baseado no processo
                const path = document.getElementById('cyclePath');
                let d = '';
                
                switch(this.currentProcess) {
                    case 'isothermal':
                        d = 'M50,120 Q100,80 150,120 L150,30 Q100,70 50,30 Z';
                        this.showMessage('Processo IsotÃ©rmico: Temperatura constante');
                        break;
                    case 'adiabatic':
                        d = 'M50,120 C80,100 120,100 150,120 L150,30 C120,50 80,50 50,30 Z';
                        this.showMessage('Processo AdiabÃ¡tico: Sem transferÃªncia de calor');
                        break;
                    case 'isobaric':
                        d = 'M50,120 L150,120 L150,30 L50,30 Z';
                        this.showMessage('Processo IsobÃ¡rico: PressÃ£o constante');
                        break;
                    case 'isochoric':
                        d = 'M50,120 L50,30 L150,30 L150,120 Z';
                        this.showMessage('Processo IsocÃ³rico: Volume constante');
                        break;
                    case 'carnot':
                        d = 'M50,120 L150,120 L150,30 L50,30 Z';
                        this.showMessage('Ciclo de Carnot: EficiÃªncia mÃ¡xima teÃ³rica');
                        break;
                }
                
                path.setAttribute('d', d);
            }

            updateDiagram() {
                // Atualizar diagrama PV dinamicamente baseado no estado
                if (this.isRunning) {
                    // Simular variaÃ§Ãµes no ciclo
                    const time = Date.now() / 1000;
                    const variation = Math.sin(time) * 0.2 + 1;
                    
                    // Atualizar caminho do diagrama
                    this.updateProcess();
                }
            }

            analyzeSystem() {
                const analysis = `
ğŸ” ANÃLISE TERMODINÃ‚MICA:

Sistema: ${this.currentSystem.toUpperCase()}
Processo: ${this.currentProcess.toUpperCase()}

ğŸ“Š ESTADO ATUAL:
â€¢ Temperatura: ${Math.round(this.state.temperature)} K
â€¢ PressÃ£o: ${this.state.pressure} kPa
â€¢ Volume: ${this.state.volume.toFixed(2)} mÂ³
â€¢ Energia Interna: ${Math.round(this.internalEnergy)} J

ğŸ’« FLUXOS ENERGÃ‰TICOS:
â€¢ Calor Entrada: ${Math.round(this.heatInput)} J
â€¢ Calor SaÃ­da: ${Math.round(this.heatOutput)} J
â€¢ Trabalho Realizado: ${Math.round(this.workDone)} J

âš–ï¸ EFICIÃŠNCIA:
â€¢ EficiÃªncia Atual: ${this.efficiency.toFixed(1)}%
â€¢ EficiÃªncia de Carnot: ${this.carnotEfficiency.toFixed(1)}%
â€¢ Entropia Gerada: ${this.entropy.toFixed(2)} J/K

ğŸ“ˆ OBSERVAÃ‡Ã•ES:
${this.getSystemObservations()}
                `;
                
                alert(analysis);
            }

            getSystemObservations() {
                const observations = {
                    'engine': 'â€¢ MÃ¡quina convertendo calor em trabalho Ãºtil\nâ€¢ Segue o ciclo termodinÃ¢mico selecionado\nâ€¢ EficiÃªncia limitada pela 2Âª Lei',
                    'refrigerator': 'â€¢ Transferindo calor contra gradiente tÃ©rmico\nâ€¢ Consome trabalho para mover calor\nâ€¢ Coeficiente de performance variÃ¡vel',
                    'gas-chamber': 'â€¢ Comportamento de gÃ¡s ideal\nâ€¢ Segue equaÃ§Ã£o PV = nRT\nâ€¢ Estudo de processos quasi-estÃ¡ticos',
                    'heat-pump': 'â€¢ Bombeando calor para aquecimento\nâ€¢ Mais eficiente que resistÃªncia elÃ©trica\nâ€¢ Performance depende da temperatura externa'
                };
                
                return observations[this.currentSystem] || 'Sistema em operaÃ§Ã£o normal.';
            }

            explainLaw(law) {
                const explanations = {
                    'zeroth': `âš–ï¸ 0Âª LEI DA TERMODINÃ‚MICA - EQUILÃBRIO TÃ‰RMICO

"Dois sistemas em equilÃ­brio tÃ©rmico com um terceiro estÃ£o em equilÃ­brio tÃ©rmico entre si."

â€¢ Define o conceito de temperatura
â€¢ Base para mediÃ§Ãµes tÃ©rmicas
â€¢ Permite uso de termÃ´metros`,

                    'first': `âš¡ 1Âª LEI DA TERMODINÃ‚MICA - CONSERVAÃ‡ÃƒO DE ENERGIA

"Î”U = Q - W (VariaÃ§Ã£o da energia interna = Calor adicionado - Trabalho realizado)"

â€¢ Energia nÃ£o pode ser criada nem destruÃ­da
â€¢ Calor e trabalho sÃ£o formas de transferÃªncia
â€¢ Fundamenta mÃ¡quinas tÃ©rmicas`,

                    'second': `ğŸ“ˆ 2Âª LEI DA TERMODINÃ‚MICA - ENTROPIA

"A entropia de um sistema isolado nunca diminui."

â€¢ Define a direÃ§Ã£o dos processos naturais
â€¢ Limita a eficiÃªncia de mÃ¡quinas tÃ©rmicas
â€¢ Estabelece a irreversibilidade`,

                    'third': `â„ï¸ 3Âª LEI DA TERMODINÃ‚MICA - ZERO ABSOLUTO

"Ã€ medida que a temperatura se aproxima do zero absoluto, a entropia de um sistema se aproxima de um valor constante mÃ­nimo."

â€¢ Entropia Ã© zero no zero absoluto
â€¢ Impossibilidade de atingir 0K
â€¢ Base para criogenia`
                };
                
                alert(explanations[law]);
            }

            runExperiment(experiment) {
                const experiments = {
                    'efficiency': this.runEfficiencyExperiment.bind(this),
                    'expansion': this.runExpansionExperiment.bind(this),
                    'mixing': this.runMixingExperiment.bind(this),
                    'heat-transfer': this.runHeatTransferExperiment.bind(this)
                };
                
                if (experiments[experiment]) {
                    experiments[experiment]();
                }
            }

            runEfficiencyExperiment() {
                this.stopSimulation();
                this.showMessage('Experimento: Maximizando EficiÃªncia');
                
                // Otimizar para eficiÃªncia mÃ¡xima
                this.state.hotTemp = 800;
                this.state.coldTemp = 300;
                document.getElementById('hotTempSlider').value = 800;
                document.getElementById('hotTempValue').textContent = '800 K';
                
                this.calculateState();
                this.startSimulation();
                
                setTimeout(() => {
                    alert(`ğŸ¯ EXPERIMENTO DE EFICIÃŠNCIA MÃXIMA

ConfiguraÃ§Ã£o Otimizada:
â€¢ T_quente = 800 K
â€¢ T_fria = 300 K
â€¢ EficiÃªncia de Carnot: ${this.carnotEfficiency.toFixed(1)}%

ObservaÃ§Ã£o: A eficiÃªncia aumenta com maior diferenÃ§a de temperatura entre reservatÃ³rios.`);
                }, 2000);
            }

            runExpansionExperiment() {
                this.showMessage('Experimento: ExpansÃ£o Livre de GÃ¡s');
                
                // Simular expansÃ£o livre
                const originalVolume = this.state.volume;
                this.state.volume = 2.0;
                document.getElementById('volumeSlider').value = 2.0;
                document.getElementById('volumeValue').textContent = '2.0 mÂ³';
                
                this.calculateState();
                
                alert(`ğŸ’¨ EXPANSÃƒO LIVRE DO GÃS

Antes da ExpansÃ£o:
â€¢ Volume: ${originalVolume.toFixed(1)} mÂ³
â€¢ Temperatura: ${Math.round(this.state.temperature * originalVolume / this.state.volume)} K

ApÃ³s ExpansÃ£o:
â€¢ Volume: ${this.state.volume.toFixed(1)} mÂ³  
â€¢ Temperatura: ${Math.round(this.state.temperature)} K

ObservaÃ§Ã£o: Na expansÃ£o livre, a temperatura permanece constante (processo isotÃ©rmico).`);
            }

            runMixingExperiment() {
                this.showMessage('Experimento: Mistura de Gases Diferentes');
                
                alert(`ğŸ”„ MISTURA DE GASES

SimulaÃ§Ã£o de dois gases ideais se misturando:

GÃ¡s A (NitrogÃªnio):
â€¢ Temperatura: 400 K
â€¢ PressÃ£o: 150 kPa

GÃ¡s B (OxigÃªnio):
â€¢ Temperatura: 300 K  
â€¢ PressÃ£o: 100 kPa

ApÃ³s Mistura:
â€¢ Temperatura de EquilÃ­brio: 350 K
â€¢ PressÃ£o Final: 125 kPa

ObservaÃ§Ã£o: A temperatura final Ã© a mÃ©dia ponderada pelas capacidades calorÃ­ficas.`);
            }

            runHeatTransferExperiment() {
                this.showMessage('Experimento: TransferÃªncia de Calor');
                
                alert(`ğŸ”¥ TRANSFERÃŠNCIA DE CALOR

Estudo dos mecanismos de transferÃªncia:

1. CONDUÃ‡ÃƒO:
   â€¢ AtravÃ©s de sÃ³lidos
   â€¢ Lei de Fourier
   â€¢ Exemplo: Barra metÃ¡lica

2. CONVECÃ‡ÃƒO:
   â€¢ Fluidos em movimento
   â€¢ Natural/forÃ§ada
   â€¢ Exemplo: Ãgua fervendo

3. RADIAÃ‡ÃƒO:
   â€¢ Ondas eletromagnÃ©ticas
   â€¢ Lei de Stefan-Boltzmann
   â€¢ Exemplo: Calor do Sol

No sistema atual: Predomina convecÃ§Ã£o nos gases.`);
            }

            showMessage(message) {
                // Feedback visual temporÃ¡rio
                const tempDisplay = document.getElementById('systemTemp');
                const originalText = tempDisplay.textContent;
                tempDisplay.textContent = message;
                tempDisplay.style.color = '#10b981';
                
                setTimeout(() => {
                    tempDisplay.textContent = originalText;
                    tempDisplay.style.color = '';
                }, 3000);
            }

            showHelp() {
                alert(`ğŸ”¥ GUIA DO MÃ“DULO TERMODINÃ‚MICA

1. ğŸš— SISTEMAS TÃ‰RMICOS: Selecione diferentes configuraÃ§Ãµes
2. ğŸ“ˆ PROCESSOS: Estude transformaÃ§Ãµes termodinÃ¢micas
3. âš–ï¸ LEIS: Aprenda os fundamentos da termodinÃ¢mica
4. ğŸ¯ EXPERIMENTOS: Execute simulaÃ§Ãµes especÃ­ficas

CONTROLES:
â€¢ Ajuste temperaturas dos reservatÃ³rios
â€¢ Modifique pressÃ£o e volume do sistema
â€¢ Inicie/pare a simulaÃ§Ã£o
â€¢ Analise resultados em tempo real

EXPERIMENTE:
â€¢ Maximizar eficiÃªncia da mÃ¡quina tÃ©rmica
â€¢ Observar expansÃ£o livre do gÃ¡s
â€¢ Estudar diferentes processos termodinÃ¢micos`);
            }

            showData() {
                const data = `
ğŸ“Š DADOS TERMODINÃ‚MICOS - TEMPO REAL

VARIÃVEIS DE ESTADO:
Temperatura: ${Math.round(this.state.temperature)} K
PressÃ£o: ${this.state.pressure} kPa
Volume: ${this.state.volume.toFixed(3)} mÂ³
Energia Interna: ${Math.round(this.internalEnergy)} J

FLUXOS ENERGÃ‰TICOS:
Q_in = ${Math.round(this.heatInput)} J
Q_out = ${Math.round(this.heatOutput)} J
W_net = ${Math.round(this.workDone)} J

EFICIÃŠNCIAS:
Î· = ${this.efficiency.toFixed(2)}%
Î·_Carnot = ${this.carnotEfficiency.toFixed(2)}%

PROPRIEDADES:
n = ${this.state.n} mol
R = ${this.state.R} J/molÂ·K
Î”S = ${this.entropy.toFixed(3)} J/K

SISTEMA: ${this.currentSystem.toUpperCase()}
PROCESSO: ${this.currentProcess.toUpperCase()}
                `;
                
                alert(data);
            }
        }

        // Inicializar laboratÃ³rio de termodinÃ¢mica
        document.addEventListener('DOMContentLoaded', () => {
            new ThermodynamicsLab();
        });
    </script>
</body>
</html>